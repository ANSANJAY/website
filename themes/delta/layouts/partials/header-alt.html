<!-- navigation -->
<header class="navigation light-bar navigation-bottom">
  <div class="container container-delta">
    <!-- navbar -->
    <nav class="navbar navbar-expand-xl navbar-light" id="main-navbar">
      <!-- navbar brand/logo -->
      <a class="navbar-brand d-none" href="{{ site.BaseURL | relLangURL }}" title="{{site.Title}}">
        {{ $logoPath:= site.Params.logo }}
        {{ $logoWidth:= replace site.Params.logo_width "px" "x" }}

        <!-- checking logo existance -->
        {{ if $logoPath }}
        {{ if fileExists (add `assets/` $logoPath) }}
        {{ $logo:= resources.Get $logoPath }}

        <!-- checking gif -->
        {{ $logoExt := path.Ext $logo }}
        {{ if eq $logoExt ".gif" }}
        {{ .Scratch.Set "logo" ($logo.Resize $logoWidth).RelPermalink }}
        <!-- checking svg -->
        {{ else if eq $logoExt ".svg"}}
        {{ .Scratch.Set "logo" $logo.RelPermalink }}
        <!-- logo fallback for svg -->
        {{ .Scratch.Set "logo_fallback" $logo.RelPermalink }}
        {{ else }}
        <!-- logo processing to webp -->
        {{ $logoDefaultWidth:= add (string $logo.Width) "x"}}
        {{ $logoWidth:= $logoWidth | default $logoDefaultWidth }}
        {{ $options := add (string $logoWidth) " webp" }}
        {{ .Scratch.Set "logo" ($logo.Resize $options).RelPermalink }}
        <!-- logo fallback -->
        {{ .Scratch.Set "logo_fallback" ($logo.Resize $logoWidth).RelPermalink }}
        {{ end }}
        {{ $logoLight:= site.Params.logo_light }}
        {{ if $logoLight }}
        {{ if fileExists (add `assets/` $logoLight) }}
        {{ $logoLight:= resources.Get $logoLight }}
        <!-- logo processing to webp -->
        {{ $logoLightDefaultWidth:= add (string $logoLight.Width) "x"}}
        {{ $logoWidth:= $logoWidth | default $logoLightDefaultWidth }}
        {{ $optionsLight := add (string $logoWidth) " webp" }}
        {{ .Scratch.Set "logoLight" ($logoLight.Resize $optionsLight).RelPermalink }}
        <img id="logo-img-light" src="{{.Scratch.Get `logo`}}"/>
        {{ end }}
        {{ end }}
        {{ else }}
        <strong class="text-danger">`{{$logoPath}}` doesn't exist</strong>
        {{ end }} <!-- / checking logo existance -->
        <!-- logo text -->
        {{ else if site.Params.logo_text }}
        {{ site.Params.logo_text | markdownify }}
        <!-- logo title -->
        {{ else }}
        {{ site.Title | markdownify }}
        {{ end }}
      </a>

      <span class="navbar-brand me-auto" title="{{.Params.navigation.logo_text}}">
        {{ $logoPath:= .Params.navigation.logo }}
        {{ $logoWidth:= replace site.Params.logo_width "px" "x" }}

        <!-- checking logo existance -->
        {{ if $logoPath }}
        {{ if fileExists (add `assets/` $logoPath) }}
        {{ $logo:= resources.Get $logoPath }}

        <!-- checking gif -->
        {{ $logoExt := path.Ext $logo }}
        {{ if eq $logoExt ".gif" }}
        {{ .Scratch.Set "logo" ($logo.Resize $logoWidth).RelPermalink }}
        <!-- checking svg -->
        {{ else if eq $logoExt ".svg"}}
        {{ .Scratch.Set "logo" $logo.RelPermalink }}
        <!-- logo fallback for svg -->
        {{ .Scratch.Set "logo_fallback" $logo.RelPermalink }}
        {{ else }}
        <!-- logo processing to webp -->
        {{ $logoDefaultWidth:= add (string $logo.Width) "x"}}
        {{ $logoWidth:= $logoWidth | default $logoDefaultWidth }}
        {{ $options := add (string $logoWidth) " webp" }}
        {{ .Scratch.Set "logo" ($logo.Resize $options).RelPermalink }}
        <!-- logo fallback -->
        {{ .Scratch.Set "logo_fallback" ($logo.Resize $logoWidth).RelPermalink }}
        {{ end }}
        {{ $logoLight:= site.Params.logo_light }}
        {{ if $logoLight }}
        {{ if fileExists (add `assets/` $logoLight) }}
        {{ $logoLight:= resources.Get $logoLight }}
        <!-- logo processing to webp -->
        {{ $logoLightDefaultWidth:= add (string $logoLight.Width) "x"}}
        {{ $logoWidth:= $logoWidth | default $logoLightDefaultWidth }}
        {{ $optionsLight := add (string $logoWidth) " webp" }}
        {{ .Scratch.Set "logoLight" ($logoLight.Resize $optionsLight).RelPermalink }}
        <img id="logo-img-light" src="{{.Scratch.Get `logo`}}"/>
        {{ end }}
        {{ end }}
        {{ else }}
        <strong class="text-danger">`{{$logoPath}}` doesn't exist</strong>
        {{ end }} <!-- / checking logo existance -->
        <!-- logo text -->
        {{ else if site.Params.logo_text }}
        {{ .Params.navigation.logo_text | markdownify }}
        <!-- logo title -->
        {{ else }}
        {{ site.Title | markdownify }}
        {{ end }}
      </span>

      <div class="navbar-actions d-inline-flex align-items-center">
        <!-- Language List -->
        {{ if .IsTranslated }}
        <select class="border-0 d-inline d-xl-none" onchange="location = this.value;">
          {{ $siteLanguages := site.Languages}}
          {{ $pageLang := .Page.Lang}}
          {{ range .Page.AllTranslations }}
          {{ $translation := .}}
          {{ range $siteLanguages }}
          {{ if eq $translation.Lang .Lang }}
          {{ $selected := false }}
          {{ if eq $pageLang .Lang}}
          <option id="{{ $translation.Language }}" value="{{ $translation.RelPermalink }}" selected>{{ .LanguageName }}
          </option>
          {{ else }}
          <option id="{{ $translation.Language }}" value="{{ $translation.RelPermalink }}">{{ .LanguageName }}</option>
          {{ end }}
          {{ end }}
          {{ end }}
          {{ end }}
        </select>
        {{ end }}

        <button aria-label="navbar toggler" class="navbar-toggler border-0" type="button" data-bs-toggle="collapse"
          data-bs-target="#navigation-alt">
          <i class="d-inline fas fa-bars"></i>
          <i class="d-none far fa-times-circle"></i>
        </button>
      </div>
      {{ $section := .Section | urlize}}

      <div class="collapse navbar-collapse text-center" id="navigation-alt">
        <ul class="navbar-nav mx-auto align-items-center">

          {{ range .Params.navigation.menu }}
          <li class="nav-item">
            <a class="nav-link nav-menu-text small" id="nav-menu" {{if findRE `^http` .url}}target="_blank" rel="noopener" {{end}}
              href="{{if findRE `^#` .url}}{{if not $.IsHome}}{{site.BaseURL | relLangURL}}{{end}}{{.url}}{{else if eq .url (`/` | relURL) }}{{.url}}{{else}}{{.url | relLangURL}}{{end}}">{{ .name }}</a>
          </li>
          {{ end }}

          <li class="nav-item d-none d-xl-block">
            <!-- Language List -->
            {{ if .IsTranslated }}
            <select class="border-0" id="select-language" onchange="location = this.value;">
              {{ $siteLanguages := site.Languages}}
              {{ $pageLang := .Page.Lang}}
              {{ range .Page.AllTranslations }}
              {{ $translation := .}}
              {{ range $siteLanguages }}
              {{ if eq $translation.Lang .Lang }}
              {{ $selected := false }}
              {{ if eq $pageLang .Lang}}
              <option id="{{ $translation.Language }}" value="{{ $translation.RelPermalink }}" selected>{{ .LanguageName }}
              </option>
              {{ else }}
              <option id="{{ $translation.Language }}" value="{{ $translation.RelPermalink }}">{{ .LanguageName }}</option>
              {{ end }}
              {{ end }}
              {{ end }}
              {{ end }}
            </select>
            {{ end }}
          </li>
        </ul>

        <div class="navbar-right header-button" id="main-button">
          {{ with .Params.navigation.navigation_button }}
          {{ if .enable }}
          <!-- login btn -->
          <a href="{{ .link | relLangURL }}" class="btn btn-sm btn-link px-0 me-2">
            {{with .icon}}<i class="icon {{.}} me-1"></i>{{end}} {{ .label }}
          </a>
          {{ end }}
          {{ end }}

          {{ with .Params.navigation.navigation_button_two }}
          {{ if .enable }}
          <!-- signup btn -->
          <a href="{{ .link | relLangURL }}" class="btn btn-sm btn-primary">
            {{ .label }} {{with .icon}}<i class="icon {{.}}"></i>{{end}}
          </a>
          {{ end }}
          {{ end }}
        </div>
      </div>
    </nav>
  </div>
</header>
<!-- /navigation -->